<?php
include "../controller/ticketC.php";

if (isset($_GET['id_concert']))
{
    $id_concert = $_GET['id_concert'];
$ticketC = new ticketC();
$ticketDetails = $ticketC->getticketByconcert($id_concert);

if ($ticketDetails === false) {
    die('Error fetching ticket details.');
}

var_dump($ticketDetails);

}
?>



<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
		<title>Tounizika</title>
		<!-- Description, Keywords and Author -->
		<meta name="description" content="Your description">
		<meta name="keywords" content="Your,Keywords">
		<meta name="author" content="HimanshuGupta">
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!-- Styles -->
		<!-- Bootstrap CSS -->
		<link href="../assets/frontoffice/css/bootstrap.min.css" rel="stylesheet">	
		<!-- Animate CSS -->
		<link href="../assets/frontoffice/css/animate.min.css" rel="stylesheet">
		<!-- Basic stylesheet -->
		<link rel="stylesheet" href="../assets/frontoffice/css/owl.carousel.css">
		<!-- Font awesome CSS -->
		<link href="../assets/frontoffice/css/font-awesome.min.css" rel="stylesheet">		
		<!-- Custom CSS -->
		<link href="../assets/frontoffice/css/style.css" rel="stylesheet">
		<link href="../assets/frontoffice/css/style-color.css" rel="stylesheet">
		
		<!-- Favicon -->
		 <link rel="shortcut icon" href="../assets/frontoffice/img/logo/favicon.png">
     


    <!-- Style for the background image -->

	<style>
        /* Ajouter du style pour le ticket */
        .ticket-item {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px;
            padding: 15px;
        }

        .ticket-details {
            margin-bottom: 10px;
        }

        .ticket-details p {
            margin: 5px 0;
        }

        .btn-book-ticket {
            background-color: #3498db;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 3px;
            cursor: pointer;
        }

        .btn-book-ticket:hover {
            background-color: #2980b9;
        }
    </style>


</head>

<body>
<header>
   <!-- modal for booking ticket form -->
		<div class="modal fade" id="bookTicket" tabindex="-1" role="dialog" aria-labelledby="BookTicket">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">Name of The Event &nbsp; <small><span class="label label-success">Available</span> &nbsp; <span class="label label-danger">Not Available</span></small></h4>
					</div>
					<!-- form for events ticket booking -->
					<form>
						<div class="modal-body">
							<div class="form-group">
								<label for="exampleInputEmail1">Email</label>
								<input type="email" class="form-control" id="exampleInputEmail1" placeholder="example@mail.com">
							</div>
							<div class="form-group">
								<label for="exampleInputContact">Contact</label>
								<input type="text" class="form-control" id="exampleInputContact" placeholder="+91 55 5555 5555">
							</div>
							<div class="form-group">
								<label for="exampleInputSeats">Number of Tickets</label>
								<select class="form-control" id="exampleInputSeats">
									<option>1</option>
									<option>2</option>
									<option>3</option>
									<option>4</option>
									<option>5</option>
								</select>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox"> I accept the Terms of Service
								</label>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							<!-- link to payment gatway here -->
							<button type="button" class="btn btn-primary">Book Now</button>
						</div>
					</form>
				</div>
			</div>
		</div>

		<!-- wrapper -->
		<div class="wrapper" id="home">

			<!-- header area -->
			
				<!-- secondary menu -->
				<nav class="secondary-menu">
				<div class="container">
						<!-- secondary menu left link area -->
						<div class="sm-left">
							<strong>Phone</strong>:&nbsp; <a href="#">555 555 555</a>&nbsp;&nbsp;&nbsp;&nbsp;
							<strong>E-mail</strong>:&nbsp; <a href="#">music.site@melodi.com</a>
						</div>
						<!-- secondary menu right link area -->
						
						<div class="clearfix"></div>
					</div>

				</nav>
				<!-- primary menu -->
				<nav class="navbar navbar-fixed-top navbar-default">
					<div class="container">
						<!-- Brand and toggle get grouped for better mobile display -->
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<!-- logo area -->
							<a class="navbar-brand" href="#home">
								<!-- logo image -->
								<img class="img-responsive" src="../../Assets/frontoffice/img/logo/logo.png" alt="" />
							</a>
						</div>

						<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav navbar-right">

								
								<li><a href="#joinus">A propos</a></li>
								<li><a href="#portfolio">Contact</a></li>
								<li><a href="#events">Aide</a></li>
								<li><a href="#team">Sign in</a></li>
								<li><a href="#contact">Login</a></li>
							</ul>
						</div><!-- /.navbar-collapse -->
					</div><!-- /.container-fluid -->
				</nav>
</header>

<div style="height: 150px;"></div>
<!-- ... le reste de votre code HTML ... -->


<div class="container">
        <div class="row">
        <!-- Wrapper for slides -->
		
<?php foreach ($ticketDetails as $ticket)
{ ?>
    <div class="ticket-item col-md-4">
        <div class="tickets-item">
            <!-- Image du ticket avec superposition d'informations -->
            <div class="ticket-image" style="position: relative;">
                <!-- Image du ticket avec effet de flou -->
                <img class="img-responsive blurred-image" src="../assets/frontoffice/img/ticket/1.jpg<?php echo $ticket['image']; ?>" alt="" />

                <!-- Superposition d'informations -->
                <div class="ticket-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; text-align: left; color: white; padding: 20px;">
                    <!-- concert date en haut à droite -->
                    <div class="ticket-details" style="position: absolute; top: 10px; right: 30px;">
                        <strong style="font-weight: bold;">Date:</strong> <?php echo $ticket['date']; ?>
                    </div>

                    <!-- concert information à gauche -->
                    

                    <div class="ticket-details" style="text-align: left;">
                        <strong style="color:black; font-size: 20px;">Heure: <?php echo $ticket['heure']; ?></strong>
                    </div>

                    <div class="ticket-details" style="text-align: left;">
                        <i class="fa fa-map-marker"></i>
                        <strong style="color:black; font-size: 20px;">Lieu: <?php echo $ticket['lieu']; ?></strong>
                    </div>

                    <div class="ticket-details" style="text-align: left;">
                        <strong style="color:black; font-size: 20px;">concert:<?php echo $ticket['concert']; ?></strong> 
                    </div>

                    <!-- concert location (prix) en bas en gras -->
                    <div class="ticket-details" style="color:white; font-size: 30px;position: absolute; bottom: 30px; right: 10px;">
                        <strong> <?php echo $ticket['prix']; ?>DT</strong>
                    </div>
                </div>
            </div>

            <!-- Bouton pour réserver un ticket -->
            <button class="btn btn-lg btn-theme btn-book-ticket" data-toggle="modal" data-target="#bookTicket" data-id="<?php echo $ticket['id_ticket']; ?>">Réserver un ticket </button>
        </div>
    </div>
<?php } ?>


		
            
<!-- footer -->
<footer>
    <div class="container">
        <!-- social media links -->
       
        <!-- copy right -->
       
    </div>
</footer>
<!-- footer end -->

<!-- Scroll to top -->
<span class="totop"><a href="#"><i class="fa fa-chevron-up"></i></a></span> 

</div>

<!-- Javascript files -->
<!-- jQuery -->
<script src="js/jquery.js"></script>
<!-- Bootstrap JS -->
<script src="js/bootstrap.min.js"></script>
<!-- WayPoints JS -->
<script src="js/waypoints.min.js"></script>
<!-- Include js plugin -->
<script src="js/owl.carousel.min.js"></script>
<!-- One Page Nav -->
<script src="js/jquery.nav.js"></script>
<!-- Respond JS for IE8 -->
<script src="js/respond.min.js"></script>
<!-- HTML5 Support for IE -->
<script src="js/html5shiv.js"></script>
<!-- Custom JS -->

</body>	
</html>


